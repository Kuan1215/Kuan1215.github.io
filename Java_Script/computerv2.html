<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>Hello, world!</title>
</head>
<body>
    <div class="container mt-auto">
        <div class="row">
            <div class="col-12">
                <button class="col-12 btn btn-primary">重玩</button>
            </div>
        </div>
        <div class="row">
            <input class="col-12" type="text">
        </div>
        <div class="row justify-content-between mt-2">
            <button id="clear-btn" class="col-5 btn btn-danger">C</button>
            <button id="delete-btn" class="col-2 btn btn-primary">></button>
            <button class="btn_symbol col-2 btn btn-primary">+</button>
        </div>
        <div class="row justify-content-between mt-2">
            <button class="btn_num col-2 btn btn-dark">1</button>
            <button class="btn_num col-2 btn btn-dark">2</button>
            <button class="btn_num col-2 btn btn-dark">3</button>
            <button class="btn_symbol col-2 btn btn-primary">-</button>
        </div>
        <div class="row justify-content-between mt-2">
            <button class="btn_num col-2 btn btn-dark">4</button>
            <button class="btn_num col-2 btn btn-dark">5</button>
            <button class="btn_num col-2 btn btn-dark">6</button>
            <button class="btn_symbol col-2 btn btn-primary">x</button>
        </div>
        <div class="row justify-content-between mt-2">
            <button class="btn_num col-2 btn btn-dark">7</button>
            <button class="btn_num col-2 btn btn-dark">8</button>
            <button class="btn_num col-2 btn btn-dark">9</button>
            <button class="btn_symbol col-2 btn btn-primary">/</button>
        </div>
        <div class="row justify-content-between mt-2">
            <button id='equal-btn' class="col-2 btn btn-primary">=</button>
            <button class="btn_num col-2 btn btn-dark">0</button>
            <button class="btn_num col-2 btn btn-primary">.</button>
            <button class="btn_symbol col-2 btn btn-primary">%</button>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
    <script>
        let sym ='' ;
        let Main_number='';
        let vice_number='0';
        let input = document.querySelector('input');
        document.querySelectorAll('.btn_num').forEach(num => {
            num.addEventListener('click', (e) => {
                Main_number += e.target.innerText;
                input.setAttribute('value', Main_number);
            })
        });
        document.getElementById('clear-btn').addEventListener('click',function(){
            Main_number='';
            input.setAttribute('value', Main_number);
        });
        document.getElementById('delete-btn').addEventListener('click',function(){
            let number = Main_number.substr(0, Main_number.length - 1);
            Main_number = number;
            input.setAttribute('value', Main_number);
        });
        document.getElementById('equal-btn').addEventListener('click',function(){
            if (sym== '+') {
                Main_number = parseFloat(vice_number) + parseFloat(Main_number);
                input.setAttribute('value', Main_number);
                sym = '';
            }
            else if (sym == '-') {
                Main_number = parseFloat(vice_number) - parseFloat(Main_number);
                input.setAttribute('value', Main_number);
                sym = '';
            }
            else if (sym == 'x') {
                Main_number = parseFloat(vice_number) * parseFloat(Main_number);
                input.setAttribute('value', Main_number);
                sym = '';
            }
            else if (sym == '/') {
                Main_number = parseFloat(vice_number) / parseFloat(Main_number);
                input.setAttribute('value', Main_number);
                sym = '';
            }
            else if (sym == '%') {
                Main_number = parseFloat(vice_number) % parseFloat(Main_number);
                input.setAttribute('value', Main_number);
                sym = '';
            }
            else if(Main_number == ''){
                alert(`請輸入數字`)
                sym = '';
            }
        });
        document.querySelectorAll('.btn_symbol').forEach(symbol => {
            symbol.addEventListener('click', (e) => {
                if (symbol.innerText == '+') {
                    Main_number = parseFloat(vice_number) + parseFloat(Main_number);
                    input.setAttribute('value', Main_number);
                    sym ='+';
                    // vice_number = Main_number;
                }
                else if (symbol.innerText == '-') {
                    Main_number = parseFloat(vice_number) - parseFloat(Main_number);
                    input.setAttribute('value', Main_number);
                    sym ='-';
                }
                else if (symbol.innerText == 'x') {
                    Main_number = parseFloat(vice_number) * parseFloat(Main_number);
                    input.setAttribute('value', Main_number);
                    sym ='x';
                }
                else if (symbol.innerText == '/') {
                    Main_number = parseFloat(vice_number) / parseFloat(Main_number);
                    input.setAttribute('value', Main_number);
                    sym ='/';
                }
                else if (symbol.innerText == '%') {
                    Main_number = parseFloat(vice_number) % parseFloat(Main_number);
                    input.setAttribute('value', Main_number);
                    sym ='%';
                }
                vice_number = Main_number;
                Main_number='';
            });
        })

    </script>
</body>

</html>