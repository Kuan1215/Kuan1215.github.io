<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="./ipadstyle.css">
    <link rel="stylesheet" href="./reset.CSS">
    <link rel="stylesheet" href="./ipad.json">
    <link rel="stylesheet" href="./ipad_js.js">
    <title>Hello, world!</title>
</head>
<body>
    <nav class="navbar navbar-light bg-light">
        <div class="container-fluid">
        <a class="navbar-brand" href="#">
            <p>選購ipad Air</p>
        </a>
        <input type="nav-text"  >
        </div>
    </nav>
<div class="container">
    <div class="row col-6">
        <div class="pic col-12 ">
            <img class="pic pic-select" src="./pic/ipad-air-select.jpg">
        </div>
    </div>
    <div class="row col-6">
        <h3 class="title">
            購買 iPad Air</h3>
        <div class="accordion" id="accordionPanelsStayOpenExample">
            <div class="accordion-item">
            <h2 class="accordion-header" id="panelsStayOpen-headingOne">
                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseOne" aria-expanded="true" aria-controls="panelsStayOpen-collapseOne">
                  顏色
                </button>
            </h2>
            <div id="panelsStayOpen-collapseOne" class=" accordion-collapse collapse show" aria-labelledby="panelsStayOpen-headingOne">
                <div class="accordion-body accordion-color">
                    <!-- <button class="btn col-5 ">
                        <p>太空灰色</p>
                        <img class="" src="https://picsum.photos/50/50/?random=10">
                    </button>
                    <button class="btn">
                        <p>太空灰色</p>
                        <img class="" src="https://picsum.photos/50/50/?random=10">
                    </button>
                    <button class="btn">
                        <p>太空灰色</p>
                        <img class="" src="https://picsum.photos/50/50/?random=10">
                    </button>
                    <button class="btn">
                        <p>太空灰色</p>
                        <img class="" src="https://picsum.photos/50/50/?random=10">
                    </button>
                    <button class="btn">
                        <p>太空灰色</p>
                        <img class="" src="https://picsum.photos/50/50/?random=10">
                    </button> -->
                </div>
            </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="panelsStayOpen-headingTwo">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseTwo" aria-expanded="false" aria-controls="panelsStayOpen-collapseTwo">
                    網路
                    </button>
                </h2>
                <div id="panelsStayOpen-collapseTwo" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingTwo">
                    <div class="accordion-body accordion-network">
                        <!-- <button class="btn col-5 text-break ">Wi-Fi</button>
                        <button class="btn col-5 text-break">Wi-Fi加上無線網路</button> -->
                    </div>
                </div>
            </div>
            <div class="accordion-item">
            <h2 class="accordion-header accordion-price" id="panelsStayOpen-headingThree">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseThree" aria-expanded="false" aria-controls="panelsStayOpen-collapseThree">
                  容量
                </button>
            </h2>
            <div id="panelsStayOpen-collapseThree" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingThree">
                <div class="accordion-body accordion-storage">
                    <!-- <button class="btn col-5 text-break">64GB</button>
                    <button class="btn col-5 text-break">256GB</button> -->
                </div>
            </div>
            </div>
        </div>
    </div>
</div>

    
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <script>
        const ipadArray =[
    { "id":"A001", "color":["太空灰色","./pic/pink.jpg","./pic/ipad-air-select-cell-pink.png"],"price": 17900, "storage":"64GB", "network": "Wi-Fi+網路"  },
    { "id":"A001", "color":["藍色","./pic/blue.jpg","./pic/ipad-air-select-cell-blue.png"],"price": 17900, "storage":"64GB", "network": "Wi-Fi"  },
    { "id":"A001", "color":["綠色","./pic/gray.png","./pic/ipad-air-select-cell-spacegray.png"],"price": 17900, "storage":"64GB", "network": "Wi-Fi+網路"  },
    { "id":"A001", "color":["灰色","./pic/purple.jpg","./pic/ipad-air-select-cell-purple.png"],"price": 17900, "storage":"64GB", "network": "Wi-Fi+網路"  },
    { "id":"A001", "color":["粉紅色","./pic/pink.jpg","./pic/ipad-air-select-cell-pink.png"],"price": 17900, "storage":"256GB", "network": "Wi-Fi"  },
    { "id":"A001", "color":["空灰色","./pic/pink.jpg","./pic/ipad-air-select-cell-pink.png"],"price": 17900, "storage":"256GB", "network": "Wi-Fi+網路"  },
]
let body = document.querySelector('body');
let ArrordionColor = document.querySelector('.accordion-color');
let ArrordionNetwork = document.querySelector('.accordion-network');
let ArrordionStorage = document.querySelector('.accordion-storage');
let pic_select =document.querySelector('.pic-select');
let input = document.querySelector('input');
window.onload = function(){
    append();
}
let xhr= new XMLHttpRequest();
xhr.onload=function(){

}
xhr.open('GET',url);
xhr.send();
let url = "./ipad.json"
function append(){
ipadArray.forEach((item,index)=>{
    //顏色按鈕
    let color_btn = document.createElement('button');
    let color_p = document.createElement('p');
    let color_img = document.createElement('img');
    color_btn.setAttribute('class','btn btn-outline-dark');
    color_img.setAttribute('src',item.color[1])
    color_p.innerText = item.color[0];
    color_btn.append(color_p,color_img);
    ArrordionColor.append(color_btn);
    color_btn.addEventListener('click',function(){
        pic_select.setAttribute('src',item.color[2])
    });
    //網路
    let network_btn = document.createElement('button');
    network_btn.setAttribute('class','btn btn-outline-dark');
    network_btn.innerText = item.network;
    ArrordionNetwork.append(network_btn);
    //容量按鈕
    let storage_btn = document.createElement('button');
    storage_btn.setAttribute('class','btn btn-outline-dark');
    storage_btn.innerText = item.storage;
    ArrordionStorage.append(storage_btn);
    storage_btn.addEventListener('click',function(e){
        if(item.storage.innerText = '64GB'){
            input.setAttribute('value',17900)
        }
        else if(item.storage.innerText = '256GB'){
            input.setAttribute('value',22900)
        }
    });
    //
});
}
    </script>
</body>
</html>